<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>HIEUZ.COM</title>

  <link rel="stylesheet" href="css/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
    rel="stylesheet"
  >

  <!-- ================= FIX CHAT UI ================= -->
  <style>
    /* NÃšT CHAT Ná»”I */
    #btnChat {
      position: fixed;
      right: 20px;
      bottom: 60px;
      z-index: 10000;

      padding: 20px 18px;
      border-radius: 50px;
      background: #6366f1;
      color: white;
      border: none;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 10px 25px rgba(0,0,0,0.25);
    }

    /* CHAT BOX */
    .chat-box {
      display: none;              /* âŒ áº¨n máº·c Ä‘á»‹nh */
      position: fixed;
      right: 20px;
      bottom: 90px;               /* náº±m trÃªn nÃºt chat */
      width: 320px;
      height: 420px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      z-index: 9999;
      overflow: hidden;
      flex-direction: column;
    }

    .chat-box.open {
      display: flex;              /* âœ… Hiá»‡n khi má»Ÿ */
    }

    .chat-header {
      padding: 12px;
      background: #111;
      color: #fff;
      font-weight: 600;
      text-align: center;
    }

    .chat-messages {
      flex: 1;
      padding: 10px;
      overflow-y: auto;
      font-size: 14px;
    }

    .chat-input {
      display: flex;
      gap: 6px;
      padding: 10px;
      border-top: 1px solid #eee;
    }

    .chat-input input {
      flex: 1;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    .chat-input button {
      padding: 8px 12px;
      border-radius: 6px;
      border: none;
      background: #111;
      color: #fff;
      cursor: pointer;
    }
  </style>
</head>

<body>

<script type="module" src="js/xuat.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<header class="top-bar">
  <div class="logo">HIEUZ<span>.COM</span></div>

  <div class="top-actions">
    <button
      id="btnAddPost"
      class="btn-primary"
      style="display:none"
      onclick="location.href='post.html'">
      â• ÄÄƒng bÃ i
    </button>

    <!-- âœ… NÃšT CHAT (Gá»ŒI toggleChat) -->
    <button id="btnChat" onclick="toggleChat()">
      ğŸ’¬ Chatbot
    </button>

    <div id="authButtons">
      <button class="btn-outline" onclick="location.href='login.html'">
        ÄÄƒng nháº­p
      </button>
      <button class="btn-primary" onclick="location.href='register.html'">
        ÄÄƒng kÃ½
      </button>
    </div>

    <div id="userBox"></div>
  </div>
</header>

<div class="page">
  <aside class="filter" id="filterBox">
    <h3>Menu</h3>
    <div class="filter-item" id="filterNewest">
      ğŸ”¥ Táº¥t cáº£ máº·t báº±ng
    </div>
    <div class="filter-item" id="filterHot">
      â­ Top 5 máº·t báº±ng Hot nháº¥t
    </div>
    <div
      class="filter-item"
      onclick="location.href='dashboard.html'"
      style="cursor: pointer;"
    >
      ğŸ“Š Dashboard
    </div>

  </aside>

  <main id="listings" class="listings"></main>
</div>

<!-- ================= CHAT BOX ================= -->
<div class="chat-box" id="chatBox">
  <div class="chat-header">
    ğŸ¤– Trá»£ lÃ½ thÃ´ng minh
  </div>

  <div class="chat-messages" id="chatMessages"></div>

  <div class="chat-input">
    <input
      id="chatInput"
      placeholder="Há»i vá» máº·t báº±ng, giÃ¡, khu vá»±c..."
    />
    <button onclick="sendMessage()">Gá»­i</button>
  </div>
</div>
<!-- ğŸ§  THANH SO SÃNH Máº¶T Báº°NG -->
<div id="compare-bar" style="display:none">
  <span>ÄÃ£ chá»n máº·t báº±ng Ä‘á»ƒ so sÃ¡nh</span>
  <button onclick="openCompare()">So sÃ¡nh ngay</button>
</div>
<!-- ğŸ§  MODAL SO SÃNH KINH DOANH -->
<div id="compare-modal" class="modal">
  <div class="modal-content">

    <h2>ğŸ“Š So sÃ¡nh máº·t báº±ng chi tiáº¿t</h2>

    <!-- ğŸ¯ Má»¤C TIÃŠU KINH DOANH -->
    <div style="margin: 12px 0;">
      <label><b>ğŸ¯ Má»¥c tiÃªu kinh doanh:</b></label><br />
      <select id="businessGoal">
        <option value="cafe">â˜• QuÃ¡n cafÃ©</option>
        <option value="shop">ğŸ› Shop bÃ¡n láº»</option>
        <option value="office">ğŸ¢ VÄƒn phÃ²ng</option>
        <option value="home">ğŸ  NhÃ  á»Ÿ</option>
        <option value="food">ğŸœ QuÃ¡n Äƒn</option>
        <option value="factory">ğŸ­ XÆ°á»Ÿng cÃ´ng nghiá»‡p / kho bÃ£i</option>

      </select>
    </div>

    <!-- ğŸ§¾ Báº¢NG SO SÃNH -->
    <table class="compare-table">
      <thead>
        <tr>
          <th>TiÃªu chÃ­</th>
          <th>Máº·t báº±ng A</th>
          <th>Máº·t báº±ng B</th>
        </tr>
      </thead>
      <tbody id="compare-table-body"></tbody>
    </table>

    <!-- ğŸ“Š BIá»‚U Äá»’ -->
    <canvas id="compareChart" height="260"></canvas>

    <h3 style="margin-top:12px">
      ğŸ‘‰ Äá» xuáº¥t kinh doanh:
      <span id="winner"></span>
    </h3>

    <button onclick="closeCompare()">ÄÃ³ng</button>
  </div>
</div>

<script type="module" src="js/auth.js"></script>
<script type="module" src="js/main.js"></script>
<script type="module" src="js/chat.js"></script>
<script src="js/compare.js"></script>
</body>
</html>
